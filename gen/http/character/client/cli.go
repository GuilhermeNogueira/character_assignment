// Code generated by goa v3.8.5, DO NOT EDIT.
//
// character HTTP client CLI support package
//
// Command:
// $ goa gen characters/design

package client

import (
	character "characters/gen/character"
	"encoding/json"
	"fmt"

	goa "goa.design/goa/v3/pkg"
)

// BuildShowPayload builds the payload for the character show endpoint from CLI
// flags.
func BuildShowPayload(characterShowID string, characterShowView string) (*character.ShowPayload, error) {
	var err error
	var id string
	{
		id = characterShowID
	}
	var view *string
	{
		if characterShowView != "" {
			view = &characterShowView
			if !(*view == "default" || *view == "tiny") {
				err = goa.MergeErrors(err, goa.InvalidEnumValueError("view", *view, []interface{}{"default", "tiny"}))
			}
			if err != nil {
				return nil, err
			}
		}
	}
	v := &character.ShowPayload{}
	v.ID = id
	v.View = view

	return v, nil
}

// BuildAddPayload builds the payload for the character add endpoint from CLI
// flags.
func BuildAddPayload(characterAddBody string) (*character.Character, error) {
	var err error
	var body AddRequestBody
	{
		err = json.Unmarshal([]byte(characterAddBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"description\": \"A splintered fragment of the same primordial power as the Ancients themselves, Zet endeavors to end the disharmony among the warring factions through whatever means necessary. Solitary foes are thrown into a volatile state of Flux, ripping away their health over time. Distorting space to generate a Protective Field sheltering around allies, evading and attacking with greater efficiency. Zet summons Spark Fragments of its former self that circles in place, and seek out nearby foes. Is there one Arc Warden, or two? Armed with the original\\'s items and abilities, the Self\\'s Tempest Double duplicates each spell and every attack, bringing twice the chaos to any fight.\",\n      \"experience\": 65.21,\n      \"health\": 12.6,\n      \"name\": \"Arc Warden\"\n   }'")
		}
	}
	v := &character.Character{
		Name:        body.Name,
		Description: body.Description,
		Health:      body.Health,
		Experience:  body.Experience,
	}

	return v, nil
}

// BuildRemovePayload builds the payload for the character remove endpoint from
// CLI flags.
func BuildRemovePayload(characterRemoveID string) (*character.RemovePayload, error) {
	var id string
	{
		id = characterRemoveID
	}
	v := &character.RemovePayload{}
	v.ID = id

	return v, nil
}

// BuildUpdatePayload builds the payload for the character update endpoint from
// CLI flags.
func BuildUpdatePayload(characterUpdateBody string, characterUpdateID string) (*character.UpdatePayload, error) {
	var err error
	var body UpdateRequestBody
	{
		err = json.Unmarshal([]byte(characterUpdateBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"character\": {\n         \"description\": \"A splintered fragment of the same primordial power as the Ancients themselves, Zet endeavors to end the disharmony among the warring factions through whatever means necessary. Solitary foes are thrown into a volatile state of Flux, ripping away their health over time. Distorting space to generate a Protective Field sheltering around allies, evading and attacking with greater efficiency. Zet summons Spark Fragments of its former self that circles in place, and seek out nearby foes. Is there one Arc Warden, or two? Armed with the original\\'s items and abilities, the Self\\'s Tempest Double duplicates each spell and every attack, bringing twice the chaos to any fight.\",\n         \"experience\": 65.21,\n         \"health\": 12.6,\n         \"name\": \"Arc Warden\"\n      }\n   }'")
		}
		if body.Character == nil {
			err = goa.MergeErrors(err, goa.MissingFieldError("character", "body"))
		}
		if err != nil {
			return nil, err
		}
	}
	var id string
	{
		id = characterUpdateID
	}
	v := &character.UpdatePayload{}
	if body.Character != nil {
		v.Character = marshalCharacterRequestBodyToCharacterCharacter(body.Character)
	}
	v.ID = id

	return v, nil
}
